---
import Layout from '../../layouts/Layout.astro';
import { Header, Footer } from '@components/core';
import projectsList from "@services/projects.json";
import { Carrousel } from '@components/pages/Project';
import { Button } from '@components/core';

export async function getStaticPaths() {
  return projectsList.map((projectItem) => ({
    params: { page: projectItem.link }
  }));
}

const { page } = Astro.params
const projectData = projectsList.find(project => project.link === `/${page}`)
---

<Layout>
  <div class="w-full min-h-screen flex flex-col">
    <Header backbtn={true} />
    <div class="mt-20 grow flex justify-center items-center mt-[-100px]">
      <section class="w-[75vw] m-auto flex flex-row gap-8">
        <div class="w-[75%] grow">
          <Carrousel carrouselImages={projectData?.carrousel_images ?? []} />
        </div>
        <div class="flex flex-col justify-between gap-8 pb-[5rem] max-w-[50%]">
          <div class="flex flex-col gap-4">
            <h1 class="text-[2rem] font-bold">{projectData?.name}</h1>
            <p class="text-[1.25rem]">{projectData?.description}</p>
          </div>
            {projectData?.networks && (
              <div class="flex flex-row gap-6 items-center justify-center">
                {
                  Object.entries(projectData.networks).map(([key, url]) => (
                    <a href={url} target="_blank" rel="noopener noreferrer" class="w-[50%]">
                      <button class="bg-[#0B0B0B] border border-white text-white rounded-[50px] text-center w-full px-4 py-2 hover:bg-white hover:text-black transition-colors hover:cursor-pointer">
                        {`Visitar en ${key}`}
                      </button>
                    </a>
                  ))
                }
              </div>
            )}
        </div>
      </section>
    </div>
    <Footer />
  </div>
</Layout>
