---
import Layout from '../../layouts/Layout.astro';
import { Header, Footer } from '@components/core';
import projectsList from "@services/projects.json"

export async function getStaticPaths() {
  return projectsList.map((projectItem) => ({
    params: { page: projectItem.link }
  }));
}

const { page } = Astro.params
const projectData = projectsList.find(project => project.link === `/${page}`)
console.log(projectData)
---

<Layout>
  <div class="w-full min-h-screen flex flex-col">
    <Header backbtn={true} />
    <div class="mt-20 grow">
      <div class="w-full ml-4">
        <h1 class="text-[2rem] font-bold italic">{projectData?.name}</h1>
      </div>
    </div>
    <Footer />
  </div>
</Layout>
